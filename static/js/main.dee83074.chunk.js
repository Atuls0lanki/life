(this.webpackJsonplife=this.webpackJsonplife||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(12),o=a.n(r),s=(a(76),a(26)),i=a(127),d=a(129),l=a(18),u=a(17),b="DATA_REQUEST",j="DATA_SUCCESS",h="DATA_FAILER",p="DATA_ADDON_REQUEST",O="DATA_ADDON_SUCCESS",f="DATA_ADDON_FAILER",g="ADD_ALL_DATA",x=function(e){return{type:b,page:e}},v=function(e){return{type:h,payload:e}},w=function(e,t){return{type:O,payload:e,page:t}},m=function(e){return{type:f,payload:e}},y=a(136),k=a(131),A=a(110),S=a(3),C=Object(i.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",border:"none"},img:{maxWidth:"80%",maxHeight:"90vh"}}}));var D=function(e){var t=e.data,a=C(),n=Object(c.useState)(!1),r=Object(l.a)(n,2),o=r[0],s=r[1],i="https://live.staticflickr.com",u=t.server,b=t.secret,j=t.id,h="".concat(i,"/").concat(u,"/").concat(j,"_").concat(b,"_w.jpg"),p="".concat(i,"/").concat(u,"/").concat(j,"_").concat(b,"_b.jpg");return Object(S.jsxs)(d.a,{item:!0,children:[Object(S.jsx)("img",{src:h,loading:"lazy",onClick:function(){s(!0)}}),Object(S.jsx)(y.a,{className:a.modal,open:o,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:k.a,BackdropProps:{timeout:500},children:Object(S.jsx)(A.a,{in:o,children:Object(S.jsx)("img",{src:p,loading:"lazy",className:a.img})})})]})};Object(i.a)({root:{padding:"25px 0px",width:"100%",height:"100%",margin:"0px",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{width:"8px"},"&::-webkit-scrollbar-track":{backgroundColor:"#eaeef3",margin:"8px 0px"},"&::-webkit-scrollbar-thumb":{border:"4px solid grey",borderRadius:"10px"}}});var E=a(7),_=a(132),L=a(133),T=a(137),R=a(67),N=a.n(R),H="SEARCH_DATA_REQUEST",P="SEARCH_DATA_SUCCESS",I="SEARCH_DATA_FAILER",F="SEARCH_ADDON_REQUEST",W="SEARCH_ADDON_SUCCESS",U="SEARCH_ADDON_FAILER",z="SET_SEARCH",B="ADD_ALL_SEARCH",Q=function(e,t,a){return{type:P,result:e,total:t,page:a}},M=function(e){return{type:I,payload:e}},X=function(e,t,a){return{type:W,payload:e,total:t,page:a}},Y=function(e){return{type:U,payload:e}},J=Object(i.a)({root:{width:"100%",height:"110px",backgroundColor:"black",position:"fixed",zIndex:100},heading:{color:"white",margin:"5px 0px"},feild:{display:"flex",alignItems:"center",width:"90%",maxWidth:"450px",backgroundColor:"white",margin:"10px 0px"},icon:{padding:"0px 5px",cursor:"text"},input:{}}),q={search:""};var G=function(){var e=J(),t=Object(c.useState)(q),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Object(u.b)();return Object(c.useEffect)((function(){var e;o((e=n.search,{type:z,data:e}))}),[n]),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(d.a,{item:!0,xs:12,className:e.root,children:Object(S.jsxs)(d.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:"100%"},children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(_.a,{variant:"h4",align:"center",className:e.heading,children:"Search Photos"})}),Object(S.jsx)(d.a,{item:!0,children:Object(S.jsxs)(L.a,{elevation:0,className:e.feild,children:[Object(S.jsx)(N.a,{className:e.icon,onClick:function(){document.getElementById("serach").focus()}}),Object(S.jsx)(T.a,{className:e.input,type:"search",placeholder:"Search Here...",id:"serach",name:"search",fullWidth:!0,value:n.search,onChange:function(e){return function(e){var t=e.target,a=t.name,c=t.value;r(Object(E.a)(Object(E.a)({},n),{},Object(s.a)({},a,c)))}(e)}})]})})]})})})},K=a(32),V=a(134),Z=a(135),$=Object(i.a)({root:{display:"flex",padding:"25px 15px",paddingTop:"135px",flexWrap:"wrap",justifyContent:"space-around",width:"calc(100% - 30px )",height:"100%",margin:"0px",overflowX:"hidden"}});var ee=function(){var e=Object(u.b)(),t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!1),s=Object(l.a)(o,2),i=s[0],b=s[1],j=Object(c.useState)(0),h=Object(l.a)(j,2),O=h[0],f=h[1],v=Object(u.c)((function(e){return e})),w=$();return Object(c.useEffect)((function(){e(x(v.data.lastPage)),r(!0)}),[]),Object(c.useEffect)((function(){if(n&&i&&!v.data.addLoading){var t=v.data.data,a=v.data.addonData,c=[].concat(Object(K.a)(t),Object(K.a)(a));e({type:g,payload:c})}}),[v.data.addonData]),window.onresize=function(){console.log("resize");var e=window.innerWidth;e>1960?f(6):e>1500?f(5):e>1280?f(4):e>980?f(3):e>600?f(2):e>350&&f(1)},""!==v.search.search&&" "!==v.search.search||(window.onscroll=function(){var t=document.body.offsetHeight;if(window.innerHeight+window.scrollY>=t-4e3&&!v.data.addLoading&&!v.data.loading){var a=parseInt(v.data.lastPage);(a+=1)>100&&(a=1),console.log(a),e(function(e){return{type:p,page:e}}(a)),b(!0)}}),console.log(window.innerWidth),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(d.a,{className:w.root,children:Object(S.jsx)(Z.a,{cols:O,gap:10,style:{width:"100%"},children:function(){if(!v.data.loading&&n)return v.data.data.map((function(e,t){return Object(S.jsx)(V.a,{rows:2,children:Object(S.jsx)(D,{data:e})},t)}))}()})})})},te=Object(i.a)({root:{display:"flex",padding:"10px 15px",paddingTop:"115px",flexWrap:"wrap",justifyContent:"space-around",width:"calc(100% - 30px )",height:"100%",margin:"0px",overflowX:"hidden"}});var ae=function(){var e=Object(u.b)(),t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!1),s=Object(l.a)(o,2),i=s[0],b=s[1],j=Object(c.useState)(0),h=Object(l.a)(j,2),p=(h[0],h[1]),O=Object(u.c)((function(e){return e})),f=te();return Object(c.useEffect)((function(){var t,a;e((t=O.search.search,a=O.search.lastPage,{type:H,search:t,page:a})),r(!0)}),[O.search.search]),Object(c.useEffect)((function(){if(n&&i&&!O.search.addLoading){var t=O.search.result,a=O.search.addonSearch,c=[].concat(Object(K.a)(t),Object(K.a)(a));e({type:B,payload:c})}}),[O.search.addonSearch]),window.onresize=function(){console.log("resize");var e=window.innerWidth;e>1960?p(6):e>1500?p(5):e>1280?p(4):e>980?p(3):e>600?p(2):e>350&&p(1)},""===O.search.search&&" "===O.search.search||(window.onscroll=function(){var t=document.body.offsetHeight;if(window.innerHeight+window.scrollY>=t-4e3&&!O.search.addLoading&&!O.search.loading){var a=parseInt(O.search.lastPage);(a+=1)>100&&(a=1),console.log(a),e(function(e,t){return{type:F,search:e,page:t}}(O.search.search,a)),b(!0)}}),Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(d.a,{className:f.root,children:[O.search.total>0?Object(S.jsxs)(_.a,{color:"textPrimary",align:"center",variant:"h6",children:["More than ",O.search.total," results"]}):Object(S.jsx)(_.a,{color:"error",align:"center",variant:"h6",children:"0 results"}),Object(S.jsx)(Z.a,{cols:5,gap:10,style:{width:"100%"},children:function(){if(!O.search.loading&&n)return O.search.result.map((function(e,t){return Object(S.jsx)(V.a,{rows:2,children:Object(S.jsx)(D,{data:e})},t)}))}()})]})})};var ce=function(){var e=Object(u.c)((function(e){return e}));return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(d.a,{style:{width:"100%",height:"100%"},children:[Object(S.jsx)(G,{}),""===e.search.search||" "===e.search.search?(console.log(e.search.search),Object(S.jsx)(ee,{})):(console.log(e.search.search),Object(S.jsx)(ae,{}))]})})},ne=(a(85),Object(i.a)({root:{width:"100%",height:"100%",minHeight:"101vh",backgroundColor:"#eaeef3"}}));var re=function(){var e,t=ne();return Object(S.jsx)(d.a,(e={className:"App"},Object(s.a)(e,"className",t.root),Object(s.a)(e,"children",Object(S.jsx)(ce,{})),e))},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,139)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),c(e),n(e),r(e),o(e)}))},se=a(24),ie=a(70),de=a(68),le=a(69),ue=a.n(le),be={loading:!1,addLoading:!1,addonData:[],lastPage:1,data:[],error:null},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case j:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,data:t.payload});case h:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case p:return Object(E.a)(Object(E.a)({},e),{},{addLoading:!0});case O:return Object(E.a)(Object(E.a)({},e),{},{addLoading:!1,addonData:t.payload,lastPage:t.page});case f:return Object(E.a)(Object(E.a)({},e),{},{addLoading:!1,error:t.payload});case g:return Object(E.a)(Object(E.a)({},e),{},{data:t.payload});default:return e}},he={loading:!1,result:[],total:"",search:"",error:"",addLoading:!1,addonSearch:[],lastPage:1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(E.a)(Object(E.a)({},e),{},{loading:!0});case P:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,result:t.result,total:t.total,lastPage:t.page});case I:return Object(E.a)(Object(E.a)({},e),{},{loading:!1,error:t.payload});case F:return Object(E.a)(Object(E.a)({},e),{},{addLoading:!0});case W:return Object(E.a)(Object(E.a)({},e),{},{addLoading:!1,addonSearch:t.payload,total:t.total,lastPage:t.page});case U:return Object(E.a)(Object(E.a)({},e),{},{addLoading:!1,error:t.payload});case z:return Object(E.a)(Object(E.a)({},e),{},{search:t.data});case B:return Object(E.a)(Object(E.a)({},e),{},{result:t.payload});default:return e}},Oe=Object(se.combineReducers)({data:je,search:pe}),fe=a(10),ge=a.n(fe),xe=a(8),ve=a(48),we=a(49),me=a.n(we),ye=function(){var e=Object(ve.a)(ge.a.mark((function e(t){var a;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data",t),a="",e.next=4,me.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=0eed32e991e00d3e63a93dfece2f02cf&page=".concat(t,"&format=json&nojsoncallback=1")).then((function(e){a=e.data})).catch((function(e){console.log(e)}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=ge.a.mark(Se),Ae=ge.a.mark(Ce);function Se(e){var t,a;return ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.page,c.prev=1,c.next=4,Object(xe.b)(ye,t);case 4:if("ok"!==(a=c.sent).stat){c.next=10;break}return c.next=8,Object(xe.c)((n=a.photos.photo,{type:j,payload:n}));case 8:c.next=12;break;case 10:return c.next=12,Object(xe.c)(v(a));case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(xe.c)(v(c.t0));case 18:case"end":return c.stop()}var n}),ke,null,[[1,14]])}function Ce(e){var t,a;return ge.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.page,c.prev=1,c.next=4,Object(xe.b)(ye,t);case 4:if("ok"!==(a=c.sent).stat){c.next=10;break}return c.next=8,Object(xe.c)(w(a.photos.photo,t));case 8:c.next=12;break;case 10:return c.next=12,Object(xe.c)(m(a));case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(xe.c)(m(c.t0));case 18:case"end":return c.stop()}}),Ae,null,[[1,14]])}var De=Object(xe.a)([Object(xe.d)(b,Se),Object(xe.d)(p,Ce)]),Ee=function(){var e=Object(ve.a)(ge.a.mark((function e(t,a){var c;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="",e.next=3,me.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=a78c553d43b32405745eb0eef77e6065&tags=".concat(t,"&page=").concat(a,"&format=json&nojsoncallback=1")).then((function(e){c=e.data})).catch((function(e){console.log(e)}));case 3:return e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=ge.a.mark(Te),Le=ge.a.mark(Re);function Te(e){var t,a,c;return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.search,a=e.page,n.prev=1,console.log(a),n.next=5,Object(xe.b)(Ee,t,a);case 5:if("ok"!==(c=n.sent).stat){n.next=11;break}return n.next=9,Object(xe.c)(Q(c.photos.photo,c.photos.total,a));case 9:n.next=13;break;case 11:return n.next=13,Object(xe.c)(M(c));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(1),n.next=19,Object(xe.c)(M(n.t0));case 19:case"end":return n.stop()}}),_e,null,[[1,15]])}function Re(e){var t,a,c;return ge.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.search,a=e.page,n.prev=1,n.next=4,Object(xe.b)(Ee,t,a);case 4:if("ok"!==(c=n.sent).stat){n.next=10;break}return n.next=8,Object(xe.c)(X(c.photos.photo,c.photos.total,a));case 8:n.next=12;break;case 10:return n.next=12,Object(xe.c)(Y(c));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(1),n.next=18,Object(xe.c)(Y(n.t0));case 18:case"end":return n.stop()}}),Le,null,[[1,14]])}var Ne=Object(xe.a)([Object(xe.d)(H,Te),Object(xe.d)(F,Re)]),He=ge.a.mark(Pe);function Pe(){return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(xe.a)([De,Ne]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),He)}var Ie=Object(ie.a)(),Fe=[ue.a,Ie],We=Object(se.createStore)(Oe,Object(de.composeWithDevTools)(se.applyMiddleware.apply(void 0,Fe)));Ie.run(Pe);var Ue=We;o.a.render(Object(S.jsx)(n.a.StrictMode,{children:Object(S.jsx)(u.a,{store:Ue,children:Object(S.jsx)(re,{})})}),document.getElementById("root")),oe()},76:function(e,t,a){},85:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.dee83074.chunk.js.map